<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OncoCast-Data • OncoCast</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="OncoCast-Data">
<meta property="og:description" content="OncoCast">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">OncoCast</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Ensemble-Learner.html">Ensemble-Learner</a>
    </li>
    <li>
      <a href="../articles/OncoCast-Data.html">OncoCast-Data</a>
    </li>
    <li>
      <a href="../articles/Online-Tools.html">Online-Tools</a>
    </li>
    <li>
      <a href="../articles/Risk-Prediction.html">Risk-Prediction</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="OncoCast-Data_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="OncoCast-Data_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="OncoCast-Data_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>OncoCast-Data</h1>
            
      
      
      <div class="hidden name"><code>OncoCast-Data.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">OncoCast</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">knitr</span>)</pre></body></html></div>
<div id="data-format" class="section level1">
<h1 class="hasAnchor">
<a href="#data-format" class="anchor"></a>Data format</h1>
<p><code><a href="../reference/OncoCast.html">OncoCast()</a></code> expects as input a dataframe with samples (or patients) as rows and features of interest as columns. Each row name must correspond to a unique sample ID unique to the obsservation of interest. Similarly each column name must be unique to the feature it represents.</p>
<p>Several example datasets are included in the package and will be loaded with the package. These are <code>survData</code>, <code>survData.LT</code>, <code>binData</code> and <code>normData</code>. If you have a doubt on what the input data should look like please refer to these tables. As you can see in the code below these are stored as dataframes.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span>(<span class="no">survData</span>)
<span class="co">#&gt; [1] "list"</span>
<span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">is.data.frame</a></span>(<span class="no">survData</span>)
<span class="co">#&gt; [1] TRUE</span></pre></body></html></div>
</div>
<div id="outcome-of-interest" class="section level1">
<h1 class="hasAnchor">
<a href="#outcome-of-interest" class="anchor"></a>Outcome of interest</h1>
<p><code><a href="../reference/OncoCast.html">OncoCast()</a></code> can handle (at the time being) 3 different common outcomes:</p>
<ul>
<li>Time to event data, which was the original target of the <code>OncoCast</code> package and most of the features present in this software are oriented with this outcome as the primary target.</li>
</ul>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="no">survData</span>[<span class="fl">1</span>:<span class="fl">5</span>,<span class="fl">1</span>:<span class="fl">5</span>])</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">time</th>
<th align="right">status</th>
<th align="right">ImpCov1</th>
<th align="right">ImpCov2</th>
<th align="right">ImpCov3</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Patient1</td>
<td align="right">9.933107</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Patient2</td>
<td align="right">32.944307</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Patient3</td>
<td align="right">2.264857</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Patient4</td>
<td align="right">3.658523</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Patient5</td>
<td align="right">12.197182</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<ul>
<li>Binary data, for outcomes that are based on success and failures.</li>
</ul>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="no">binData</span>[<span class="fl">1</span>:<span class="fl">5</span>,<span class="fl">1</span>:<span class="fl">5</span>])</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">y</th>
<th align="right">Covs1</th>
<th align="right">Covs2</th>
<th align="right">Covs3</th>
<th align="right">Covs4</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Patient1</td>
<td align="right">1</td>
<td align="right">-0.6264538</td>
<td align="right">0.8936737</td>
<td align="right">-0.3410670</td>
<td align="right">-1.5414026</td>
</tr>
<tr class="even">
<td align="left">Patient2</td>
<td align="right">0</td>
<td align="right">0.1836433</td>
<td align="right">-1.0472981</td>
<td align="right">1.5024245</td>
<td align="right">0.1943211</td>
</tr>
<tr class="odd">
<td align="left">Patient3</td>
<td align="right">1</td>
<td align="right">-0.8356286</td>
<td align="right">1.9713374</td>
<td align="right">0.5283077</td>
<td align="right">0.2644225</td>
</tr>
<tr class="even">
<td align="left">Patient4</td>
<td align="right">1</td>
<td align="right">1.5952808</td>
<td align="right">-0.3836321</td>
<td align="right">0.5421914</td>
<td align="right">-1.1187352</td>
</tr>
<tr class="odd">
<td align="left">Patient5</td>
<td align="right">1</td>
<td align="right">0.3295078</td>
<td align="right">1.6541453</td>
<td align="right">-0.1366734</td>
<td align="right">0.6509530</td>
</tr>
</tbody>
</table>
<ul>
<li>Normal data, for outcomes that follow a gaussian distribution.</li>
</ul>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="no">normData</span>[<span class="fl">1</span>:<span class="fl">5</span>,<span class="fl">1</span>:<span class="fl">5</span>])</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">y</th>
<th align="right">Covs1</th>
<th align="right">Covs2</th>
<th align="right">Covs3</th>
<th align="right">Covs4</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Patient1</td>
<td align="right">5.760664</td>
<td align="right">-0.6264538</td>
<td align="right">0.8936737</td>
<td align="right">-0.3410670</td>
<td align="right">-1.5414026</td>
</tr>
<tr class="even">
<td align="left">Patient2</td>
<td align="right">-5.447879</td>
<td align="right">0.1836433</td>
<td align="right">-1.0472981</td>
<td align="right">1.5024245</td>
<td align="right">0.1943211</td>
</tr>
<tr class="odd">
<td align="left">Patient3</td>
<td align="right">6.074560</td>
<td align="right">-0.8356286</td>
<td align="right">1.9713374</td>
<td align="right">0.5283077</td>
<td align="right">0.2644225</td>
</tr>
<tr class="even">
<td align="left">Patient4</td>
<td align="right">5.380191</td>
<td align="right">1.5952808</td>
<td align="right">-0.3836321</td>
<td align="right">0.5421914</td>
<td align="right">-1.1187352</td>
</tr>
<tr class="odd">
<td align="left">Patient5</td>
<td align="right">5.014123</td>
<td align="right">0.3295078</td>
<td align="right">1.6541453</td>
<td align="right">-0.1366734</td>
<td align="right">0.6509530</td>
</tr>
</tbody>
</table>
</div>
<div id="features-coding" class="section level1">
<h1 class="hasAnchor">
<a href="#features-coding" class="anchor"></a>Features coding</h1>
<p>The <code><a href="../reference/OncoCast.html">OncoCast()</a></code> function will consider that all features that are not part of the outcome are covariates (independent variables) and thus will be included in the ensemble model as predictors. Due to machine learning algorithm restrictions only numeric predictors can be considered. For continuous and binary predictors this will not be an issue. However for dichotomous variables with more than 2 levels we require the creation of “dummy” binary variables for each level of a character vector (expect one level that is left out). A warning will be thrown if such a variable is recognized and recoded by <code><a href="../reference/OncoCast.html">OncoCast()</a></code> as shown in the example below. We recommend the user does this prior to creating the ensemble learning model in order to control which factor becomes the baseline.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>,<span class="st">"x"</span>,<span class="st">"y"</span>,<span class="st">"z"</span>), <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">2</span>))

<span class="no">dums</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span>(<span class="no">data</span>,<span class="fl">2</span>,<span class="kw">function</span>(<span class="no">x</span>){<span class="fu"><a href="https://rdrr.io/r/base/NA.html">anyNA</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(<span class="no">x</span>)))})
<span class="no">data.save</span> <span class="kw">=</span> <span class="no">F</span>
<span class="kw">if</span>(<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="no">dums</span>) <span class="kw">&gt;</span> <span class="fl">0</span>){
  <span class="no">tmp</span> <span class="kw">&lt;-</span> <span class="no">data</span> <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span>(<span class="no">dums</span>)) <span class="kw">%&gt;%</span>
    <span class="kw pkg">fastDummies</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/fastDummies/man/dummy_cols.html">dummy_cols</a></span>(<span class="kw">remove_first_dummy</span> <span class="kw">=</span> <span class="no">T</span>) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(-<span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">one_of</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span>(<span class="no">dums</span>))))
  <span class="no">data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span>(
    <span class="no">data</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(-<span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">one_of</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span>(<span class="no">dums</span>)))),
    <span class="no">tmp</span>
  ) <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html">mutate_all</a></span>(<span class="no">as.character</span>) <span class="kw">%&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html">mutate_all</a></span>(<span class="no">as.numeric</span>)
  )
  <span class="no">data.save</span> <span class="kw">=</span> <span class="no">T</span>
  <span class="fu"><a href="https://rdrr.io/r/base/warning.html">warning</a></span>(<span class="st">"Character variables were transformed to dummy numeric variables. If you didn't have any character variables make sure all columns in your input data are numeric. The transformed data will be saved as part of the output."</span>)
}

<span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="no">data</span>, <span class="kw">row.names</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">V1_b</th>
<th align="right">V1_c</th>
<th align="right">V2_y</th>
<th align="right">V2_z</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>Note that a warning is thrown and the modified data will be saved and returned with the ensemble model.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Axel Martin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
